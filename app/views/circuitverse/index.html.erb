<script>
  $(document).ready(function(){
    $("#alertdiv").delay(5000).fadeOut(600);
  });
</script>

<% content_for :title, t("circuitverse.index.title") %>

<% set_meta_tags twitter: {
     card: "summary_large_image",
     title: yield(:title),
     description: Rails.configuration.site_description,
     image: { src: "#{Rails.configuration.site_url}img/circuitverseBanner2.png" }
   } %>

<% set_meta_tags og: {
     title: yield(:title),
     image: "#{Rails.configuration.site_url}img/circuitverseBanner2.png",
     description: Rails.configuration.site_description,
     type: "article",
     site_name: Rails.configuration.site_name
   } %>


<% if notice %>
  <%= render AlertComponent.new(message: notice) %>
<% end %>

<%= render "announcements/announcement" %>

<div class="container">
  <div class="row center-row">
    <div class="col-12 col-sm-12 col-md-6 col-lg-6">
      <%= render HomeMainContentComponent.new %>
    </div>
    <div class="col-12 col-sm-12 col-md-6 col-lg-6">
      <%= image_tag "homepage/new_homepage_sketch.png", alt: "HomepageSketch", class: "home-image-cover" %>
    </div>
  </div>

  <div class="row">
    <%= render HomeButtonsComponent.new %>
  </div>

  <div id="home-features-section" class="row center-row" style="scroll-margin-top: 100px;">
    <div class="col-12 col-sm-12 col-md-12 col-lg-12">
      <h3><%= t("circuitverse.index.features.main_heading") %></h3>
      <p><%= t("circuitverse.index.features.main_description") %></p>
    </div>
  </div>

  <div class="row center-row justify-content-center">
    <%= render FeatureCardComponent.new(
      image: "homepage/export-hd.png",
      alt: "Export HD",
      title: t("circuitverse.index.features.item1_heading"),
      text: t("circuitverse.index.features.item1_text")
    ) %>

    <%= render FeatureCardComponent.new(
      image: "homepage/combinations analysis.png",
      alt: "Combinations Analysis",
      title: t("circuitverse.index.features.item2_heading"),
      text: t("circuitverse.index.features.item2_text")
    ) %> 

    <%= render FeatureCardComponent.new(
      image: "homepage/embed.png",
      alt: "Embed",
      title: t("circuitverse.index.features.item3_heading"),
      text: t("circuitverse.index.features.item3_text")
    ) %>

    <%= render FeatureCardComponent.new(
      image: "homepage/sub-circuit.png",
      alt: "Sub Circuit",
      title: t("circuitverse.index.features.item4_heading"),
      text: t("circuitverse.index.features.item4_text")
    ) %> 

    <%= render FeatureCardComponent.new(
      image: "homepage/multi-bit-bus.png",
      alt: "Multi Bit Bus",
      title: t("circuitverse.index.features.item5_heading"),
      text: t("circuitverse.index.features.item5_text")
    ) %>
  </div>
</div> 

<%= render FeaturedExamplesComponent.new %>
<%= render EditorPickComponent.new(featured_circuits: @featured_circuits, current_user: current_user) %>
<%= render RecentProjectsComponent.new(projects: @projects, projects_page: @projects_page) %> 

<% if user_signed_in? %>
    <script>
        if(localStorage.getItem("recover_login")){
            window.location.href = "/simulator"
        }
    </script>
    <% end %>

<script type="application/ld+json">
  {
    "@context" : "http://schema.org",
    "@type" : "WebApplication",
    "name" : "<%= Rails.configuration.site_name %>",
    "image" : "<%= Rails.configuration.site_image %>",
    "url" : "<%= Rails.configuration.site_url %>",
    "applicationCategory" : "<%= Rails.configuration.site_category %>",
    "downloadUrl" : "<%= Rails.configuration.site_download_url %>",
    "operatingSystem": "All"
  }
</script>
<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "url" : "<%= Rails.configuration.site_url %>",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "<%= Rails.configuration.site_url %>/search?resource=Projects&q={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
</script>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->