<nav class="navbar navbar-expand-lg bg-white">
  <a class="navbar-brand" href="/">
    <%= image_tag("CircuitVerse.svg", class: "navbar-logo", alt: "CircuitVerse Logo") %>
  </a>
  <div class="flex row me-1">
    <div class="center-row navbar-search-icon-container navbar-search-icon-oncollapse">
    <i class="fa fa-search search-icon ms-0 <%= request.path == "/search" ? "active" : "" %>" tabindex="0" aria-label="search"></i>
    </div>
    <button class="navbar-toggler navbar-light" type="button" id="dropdownButton"
    aria-controls="collapsedNavbar" aria-expanded="false" aria-label="Toggle navigation">
    <i class="fas fa-bars text-secondary" id="dropdownIcon"></i>
    </button>
  </div>
  <div class="collapse navbar-collapse" id="collapsed-navbar">
    <ul class="navbar-nav ms-auto navigationBar-item">
      <!-- Search icon and other nav items -->
      <%# ... (existing code remains unchanged) ... %>

      <% if user_signed_in? %>
        <%# ... (existing logged-in user dropdown code) ... %>
      <% else %>
        <!-- Fixed Join button -->
        <li class="nav-item px-1">
          <a class="btn primary-button join-btn" href="<%= new_user_registration_path %>"><%= t("join") %></a>
        </li>
        <!-- Login link -->
        <li class="nav-item px-1">
          <a class="nav-link navbar-item navbar-text <%= request.path == "/users/sign_in" ? "active" : "" %>" href="/users/sign_in"><%= t("login") %></a>
        </li>
      <% end %>
    </ul>
  </div>
</nav>

<div class="container-fluid navbar-search-active">
  <%= render "circuitverse_assets/search_bar" %>
</div>

<script type="text/javascript">
  // JavaScript remains unchanged
  document.addEventListener("DOMContentLoaded", function () {
    // ... (existing JavaScript code) ...
  });
</script>
