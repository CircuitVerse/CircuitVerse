<textarea id="trumbowyg"> <%= content %> </textarea>

<script type="text/javascript">
  $(document).ready(function() {
    $('#trumbowyg').trumbowyg({
      svgPath: "https://cdnjs.cloudflare.com/ajax/libs/Trumbowyg/2.20.0/ui/icons.svg",
      btns: [
        ['viewHTML'],
        ['undo', 'redo'],
        ['formatting'],
        ['strong', 'em', 'foreColor', 'backColor', 'del'],
        ['superscript', 'subscript'],
        ['link'],
        ['insertImage'],
        ['justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull'],
        ['unorderedList', 'orderedList'],
        ['horizontalRule'],
        ['removeformat'],
        ['fullscreen']
      ]
    });
  });
  $.fn.cleanHtml = function () {
      var html = $('#trumbowyg').trumbowyg('html');
      return html && html.replace(/(<br>|\s|<div><br><\/div>|&nbsp;)*$/, '');
    };
</script>
