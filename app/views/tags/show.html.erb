<% content_for :title, "#{t('explore.sections.tags.heading')} - #{@tag.name}" %>

<div class="container">
  <div class="row center-row">
    <div class="col-12">
      <h1 class="main-heading"><%= t("explore.sections.tags.heading") %></h1>
      <div class="tag-context d-flex align-items-center justify-content-center gap-2">
        <span><%= t("explore.sections.tags.showing_tagged_with") %>:</span>
        <span class="badge search-tag"><%= @tag.name %></span>
        <%= link_to t("explore.sections.tags.clear_filter"), explore_path(section: "tags"), class: "ms-2" %>
      </div>
    </div>
  </div>

  <% if @projects.any? %>
    <div class="project-cards-grid">
      <%= render(Project::ProjectCardComponent.with_collection(@projects)) %>
    </div>
    <div class="container pagination-cont">
      <ul class="pagination justify-content-center">
        <li class="page-item <%= 'disabled' unless @has_prev %>">
          <% if @has_prev %>
            <%= link_to t("pagination.previous", default: "Previous"),
                        "#{tag_path(@tag.name)}?before=#{@prev_cursor}",
                        class: "page-link" %>
          <% else %>
            <span class="page-link"><%= t("pagination.previous", default: "Previous") %></span>
          <% end %>
        </li>
        <li class="page-item <%= 'disabled' unless @has_next %>">
          <% if @has_next %>
            <%= link_to t("pagination.next", default: "Next"),
                        "#{tag_path(@tag.name)}?after=#{@next_cursor}",
                        class: "page-link" %>
          <% else %>
            <span class="page-link"><%= t("pagination.next", default: "Next") %></span>
          <% end %>
        </li>
      </ul>
    </div>
  <% else %>
    <p class="text-muted"><%= t("explore.empty") %></p>
  <% end %>
</div>
