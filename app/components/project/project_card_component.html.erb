<%= link_to user_project_path(project.author, project),
            class: "project-card submission-card",
            data:  { project_id: project.id },
            target: "_blank",
            rel:    "noopener noreferrer" do %>
  <div class="project-card-image-container">
    <%= image_tag(
          project.circuit_preview.attached? ? project.circuit_preview : image_path("empty_project/default.png"),
          alt: project.name,
          class: "project-card-image"
        ) %>
    <button
      class="project-card-share-btn"
      type="button"
      data-controller="share"
      data-action="click->share#share"
      data-share-url-value="<%= user_project_url(project.author, project) %>"
      data-share-title-value="<%= project.name %>">
      <i class="fas fa-share-alt" aria-hidden="true"></i>
      <span class="visually-hidden"><%= t("components.project.share") %></span>
      <span class="share-toast" data-share-target="toast"><%= t("components.project.copied") %></span>
    </button>
  </div>
  <div class="project-card-content">
    <div class="project-card-header">
      <div class="project-card-title">
        <h3><%= project.name %></h3>
      </div>
      <div class="project-card-stats">
        <div class="project-card-stat">
          <i class="fas fa-star" aria-hidden="true"></i>
          <span><%= project.stars.count %></span>
        </div>
        <div class="project-card-stat">
          <i class="fa fa-eye" aria-hidden="true"></i>
          <span><%= project.view %></span>
        </div>
      </div>
    </div>
    <div class="project-card-author">
      <%= image_tag("SVGs/user.svg", alt: "User") %> <%= project.author.name %>
    </div>
    <div class="project-card-description">
      <%= sanitize project.description %>
    </div>
    <% if project.description && project.description.length > 120 %>
      <div class="show-more-container">
        <span class="show-more-btn"><%= t("components.project.show_more") %></span>
      </div>
    <% end %>
  </div>
<% end %>
